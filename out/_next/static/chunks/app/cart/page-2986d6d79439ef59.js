(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[565],{7815:function(e,t,a){Promise.resolve().then(a.bind(a,1455))},1455:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return z}});var s=a(7437),l=a(2265),i=a(9376),n=a(401),r=a(1723),d=a(2449),c=a(2660),o=a(9763);let u=(0,o.Z)("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]),x=(0,o.Z)("Bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]]);var m=a(2369),h=a(3041),p=a(9397),f=a(9637),v=a(3774);let y=(0,o.Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var b=a(9554),j=a(1804),g=a(8226),N=a(5805),k=a(407),w=a(5863),Z=a(2489),S=a(4759),M=a(4320),C=a(6348),_=a(2141);function z(){var e,t,a,o,z,A,T,q,E,B,D,P,I,O,H,L,V,K,R,F,U,Y,J,Q,G,W,X,$,ee,et,ea,es,el,ei,en;let er=(0,i.useRouter)(),{items:ed,venueName:ec,venueId:eo,updateQuantity:eu,removeItem:ex,clearCart:em,totalPrice:eh}=(0,S.j)(),{user:ep,profile:ef}=(0,M.a)(),{t:ev}=(0,C.QT)(),[ey,eb]=(0,l.useState)("dine_in"),[ej,eg]=(0,l.useState)(""),[eN,ek]=(0,l.useState)(""),[ew,eZ]=(0,l.useState)(""),[eS,eM]=(0,l.useState)([]),[eC,e_]=(0,l.useState)(null),[ez,eA]=(0,l.useState)(0),[eT,eq]=(0,l.useState)(""),[eE,eB]=(0,l.useState)(!1),[eD,eP]=(0,l.useState)(!1),[eI,eO]=(0,l.useState)(null),[eH,eL]=(0,l.useState)("cash"),[eV,eK]=(0,l.useState)(0),[eR,eF]=(0,l.useState)(""),[eU,eY]=(0,l.useState)(!1),[eJ,eQ]=(0,l.useState)(1),eG=eR?parseFloat(eR)||0:Math.round(eh*eV/100),eW=Math.round(.08*eh),eX=eh+eW+eG+("delivery"===ey?ez:0),e$=eJ>1?Math.ceil(eX/eJ):eX,e0=Math.max(15,ed.reduce((e,t)=>e+5*t.quantity,10))+("delivery"===ey?20:0),e2="delivery"===ey?100:0,e1=eh>=e2;(0,l.useEffect)(()=>{let e=localStorage.getItem("order_mode"),t=localStorage.getItem("current_table");"takeaway"===e?eb("takeaway"):t&&(eg(t),eb("dine_in"))},[]),(0,l.useEffect)(()=>{ep&&(e4(),(null==ef?void 0:ef.display_name)&&ek(ef.display_name),(null==ef?void 0:ef.phone)&&eZ(ef.phone))},[ep,ef]),(0,l.useEffect)(()=>{"delivery"===ey&&eC?eA(15):eA(0)},[ey,eC]);let e4=async()=>{if(!ep)return;let{data:e}=await _.O.from("user_addresses").select("*").eq("user_id",ep.id).order("is_default",{ascending:!1});e&&e.length>0&&(eM(e),e_(e.find(e=>e.is_default)||e[0]))},e5=()=>{var e,t,a,s;return"dine_in"!==ey||ej?"takeaway"!==ey||eN&&ew?"delivery"!==ey||eC?!!e1||(alert("".concat((null===(s=ev.cart)||void 0===s?void 0:s.minimumOrder)||"Minimum sipariş tutarı",": ₺").concat(e2)),!1):(alert((null===(a=ev.cart)||void 0===a?void 0:a.selectAddress)||"L\xfctfen teslimat adresi se\xe7in"),!1):(alert((null===(t=ev.cart)||void 0===t?void 0:t.enterContactInfo)||"L\xfctfen isim ve telefon numaranızı girin"),!1):(alert((null===(e=ev.cart)||void 0===e?void 0:e.enterTableNumber)||"L\xfctfen masa numaranızı girin"),!1)},e3=async()=>{if(!e5())return;if(!ep){er.push("/auth");return}eB(!0);let e=(null==eo?void 0:eo.replace("order-",""))||null,t="ORD-".concat(Date.now().toString().slice(-6)),a={venue_id:e,user_id:ep.id,order_number:t,type:ey,status:"pending",payment_status:"pending",payment_method:eH,subtotal:eh,tax:eW,tip:eG,delivery_fee:"delivery"===ey?ez:0,total:eX,notes:eT||null,customer_name:eN||(null==ef?void 0:ef.display_name)||"Misafir",customer_phone:ew||null,estimated_time:e0,split_count:eJ>1?eJ:null,items:ed.map(e=>({id:e.id,name:e.name,price:e.price,quantity:e.quantity,options:e.options||[],status:"pending"}))};"dine_in"===ey?a.table_number=ej:"delivery"===ey&&eC&&(a.delivery_address={title:eC.title,full_address:eC.full_address,district:eC.district,city:eC.city,notes:eC.notes});let{data:s,error:l}=await _.O.from("orders").insert(a).select().single();if(eB(!1),l){var i;console.error("Sipariş hatası:",l),alert(((null===(i=ev.cart)||void 0===i?void 0:i.orderError)||"Sipariş oluşturulamadı")+": "+l.message)}else eO(s.id),eP(!0),em(),localStorage.removeItem("order_mode")};return eD&&eI?(0,s.jsx)("div",{className:"min-h-screen bg-[#0a0a0a] text-white flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"w-full max-w-sm text-center",children:[(0,s.jsx)("div",{className:"w-20 h-20 rounded-full bg-green-500/20 flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(n.Z,{className:"w-10 h-10 text-green-500"})}),(0,s.jsx)("h1",{className:"text-2xl font-bold mb-2",children:(null===(ee=ev.cart)||void 0===ee?void 0:ee.orderReceived)||"Sipariş Alındı!"}),(0,s.jsx)("p",{className:"text-gray-400 mb-6",children:ec}),(0,s.jsxs)("div",{className:"bg-[#1a1a1a] rounded-xl p-4 mb-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-400",children:(null===(et=ev.cart)||void 0===et?void 0:et.orderNumber)||"Sipariş Numarası"}),(0,s.jsxs)("p",{className:"text-xl font-bold text-orange-500",children:["#",eI.slice(-6).toUpperCase()]}),"dine_in"===ey&&(0,s.jsxs)("p",{className:"text-sm text-gray-400 mt-2",children:["\uD83C\uDF7D️ Masa ",ej]}),"takeaway"===ey&&(0,s.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"\uD83D\uDCE6 Paket Servis"}),"delivery"===ey&&eC&&(0,s.jsxs)("p",{className:"text-sm text-gray-400 mt-2",children:["\uD83D\uDEB4 ",eC.district]})]}),(0,s.jsxs)("div",{className:"bg-orange-500/10 border border-orange-500/20 rounded-xl p-4 mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2 text-orange-400",children:[(0,s.jsx)(r.Z,{className:"w-5 h-5"}),(0,s.jsxs)("span",{className:"font-medium",children:["~",e0," dk"]})]}),(0,s.jsx)("p",{className:"text-sm text-orange-400/70 mt-1",children:"delivery"===ey?"Tahmini teslimat s\xfcresi":"Tahmini hazırlık s\xfcresi"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("button",{onClick:()=>er.push("/orders/".concat(eI)),className:"w-full py-4 bg-orange-500 rounded-xl font-semibold",children:(null===(ea=ev.cart)||void 0===ea?void 0:ea.trackOrder)||"Siparişi Takip Et"}),(0,s.jsx)("button",{onClick:()=>er.push("/"),className:"w-full py-4 bg-[#1a1a1a] rounded-xl font-semibold",children:(null===(es=ev.cart)||void 0===es?void 0:es.backToHome)||"Ana Sayfaya D\xf6n"})]})]})}):0===ed.length?(0,s.jsxs)("div",{className:"min-h-screen bg-[#0a0a0a] text-white flex flex-col items-center justify-center p-4",children:[(0,s.jsx)(d.Z,{className:"w-20 h-20 text-gray-600 mb-4"}),(0,s.jsx)("h2",{className:"text-xl font-bold mb-2",children:(null===(el=ev.cart)||void 0===el?void 0:el.empty)||"Sepetiniz Boş"}),(0,s.jsx)("p",{className:"text-gray-400 mb-6",children:(null===(ei=ev.cart)||void 0===ei?void 0:ei.addItems)||"Lezzetli yemekler ekleyin"}),(0,s.jsx)("button",{onClick:()=>er.push("/"),className:"px-6 py-3 bg-orange-500 rounded-xl font-semibold",children:(null===(en=ev.cart)||void 0===en?void 0:en.browseMenu)||"Men\xfcye G\xf6z At"})]}):(0,s.jsxs)("div",{className:"min-h-screen bg-[#0a0a0a] text-white pb-48",children:[(0,s.jsx)("header",{className:"sticky top-0 z-40 bg-[#0a0a0a]/95 backdrop-blur border-b border-white/5 px-4 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("button",{onClick:()=>er.back(),className:"w-10 h-10 rounded-full bg-[#1a1a1a] flex items-center justify-center",children:(0,s.jsx)(c.Z,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h1",{className:"font-bold",children:(null===(e=ev.cart)||void 0===e?void 0:e.title)||"Sepet"}),(0,s.jsxs)("p",{className:"text-sm text-gray-400",children:[ec," • ",ed.length," \xfcr\xfcn"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-orange-400 text-sm",children:[(0,s.jsx)(r.Z,{className:"w-4 h-4"}),(0,s.jsxs)("span",{children:["~",e0," dk"]})]})]})}),(0,s.jsxs)("div",{className:"p-4 space-y-4",children:[(0,s.jsxs)("div",{className:"bg-[#1a1a1a] rounded-2xl p-4",children:[(0,s.jsx)("h3",{className:"font-semibold mb-3",children:(null===(t=ev.cart)||void 0===t?void 0:t.orderType)||"Sipariş Tipi"}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,s.jsxs)("button",{onClick:()=>eb("dine_in"),className:"p-3 rounded-xl flex flex-col items-center gap-2 transition-all ".concat("dine_in"===ey?"bg-orange-500 text-white":"bg-[#242424] text-gray-400"),children:[(0,s.jsx)(u,{className:"w-6 h-6"}),(0,s.jsx)("span",{className:"text-xs font-medium",children:(null===(a=ev.cart)||void 0===a?void 0:a.dineIn)||"Masada"})]}),(0,s.jsxs)("button",{onClick:()=>eb("takeaway"),className:"p-3 rounded-xl flex flex-col items-center gap-2 transition-all ".concat("takeaway"===ey?"bg-purple-500 text-white":"bg-[#242424] text-gray-400"),children:[(0,s.jsx)(d.Z,{className:"w-6 h-6"}),(0,s.jsx)("span",{className:"text-xs font-medium",children:(null===(o=ev.cart)||void 0===o?void 0:o.takeaway)||"Paket Al"})]}),(0,s.jsxs)("button",{onClick:()=>eb("delivery"),className:"p-3 rounded-xl flex flex-col items-center gap-2 transition-all ".concat("delivery"===ey?"bg-green-500 text-white":"bg-[#242424] text-gray-400"),children:[(0,s.jsx)(x,{className:"w-6 h-6"}),(0,s.jsx)("span",{className:"text-xs font-medium",children:(null===(z=ev.cart)||void 0===z?void 0:z.delivery)||"Teslimat"})]})]})]}),"dine_in"===ey&&(0,s.jsxs)("div",{className:"bg-[#1a1a1a] rounded-2xl p-4",children:[(0,s.jsx)("h3",{className:"font-semibold mb-3",children:(null===(A=ev.cart)||void 0===A?void 0:A.tableNumber)||"Masa Numarası"}),(0,s.jsx)("input",{type:"text",value:ej,onChange:e=>eg(e.target.value),placeholder:"\xd6rn: 5",className:"w-full bg-[#242424] border border-white/10 rounded-xl py-3 px-4 text-white text-center text-2xl font-bold"})]}),"takeaway"===ey&&(0,s.jsxs)("div",{className:"bg-[#1a1a1a] rounded-2xl p-4 space-y-3",children:[(0,s.jsx)("h3",{className:"font-semibold mb-3",children:(null===(T=ev.cart)||void 0===T?void 0:T.contactInfo)||"İletişim Bilgileri"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(m.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,s.jsx)("input",{type:"text",value:eN,onChange:e=>ek(e.target.value),placeholder:(null===(q=ev.cart)||void 0===q?void 0:q.yourName)||"Adınız",className:"w-full bg-[#242424] border border-white/10 rounded-xl py-3 pl-12 pr-4 text-white"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(h.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,s.jsx)("input",{type:"tel",value:ew,onChange:e=>eZ(e.target.value),placeholder:(null===(E=ev.cart)||void 0===E?void 0:E.yourPhone)||"Telefon Numaranız",className:"w-full bg-[#242424] border border-white/10 rounded-xl py-3 pl-12 pr-4 text-white"})]}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[(0,s.jsx)(r.Z,{className:"w-3 h-3"}),(null===(B=ev.cart)||void 0===B?void 0:B.pickupReady)||"Hazır olduğunda SMS ile bilgilendirileceksiniz"]})]}),"delivery"===ey&&(0,s.jsxs)("div",{className:"bg-[#1a1a1a] rounded-2xl p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsx)("h3",{className:"font-semibold",children:(null===(D=ev.cart)||void 0===D?void 0:D.deliveryAddress)||"Teslimat Adresi"}),(0,s.jsx)("button",{onClick:()=>er.push("/addresses"),className:"text-orange-500 text-sm",children:(null===(P=ev.cart)||void 0===P?void 0:P.manageAddresses)||"Y\xf6net"})]}),0===eS.length?(0,s.jsxs)("button",{onClick:()=>er.push("/addresses"),className:"w-full p-4 border-2 border-dashed border-gray-700 rounded-xl flex items-center justify-center gap-2 text-gray-400",children:[(0,s.jsx)(p.Z,{className:"w-5 h-5"}),(null===(I=ev.cart)||void 0===I?void 0:I.addAddress)||"Adres Ekle"]}):(0,s.jsx)("div",{className:"space-y-2",children:eS.slice(0,3).map(e=>(0,s.jsxs)("button",{onClick:()=>e_(e),className:"w-full p-3 rounded-xl flex items-start gap-3 text-left transition-all ".concat((null==eC?void 0:eC.id)===e.id?"bg-green-500/20 border-2 border-green-500":"bg-[#242424] border-2 border-transparent"),children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 ".concat((null==eC?void 0:eC.id)===e.id?"bg-green-500":"bg-[#1a1a1a]"),children:"Ev"===e.title||"Home"===e.title?(0,s.jsx)(f.Z,{className:"w-5 h-5"}):(0,s.jsx)(v.Z,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"font-medium",children:e.title}),(0,s.jsx)("p",{className:"text-sm text-gray-400 truncate",children:e.full_address})]}),(null==eC?void 0:eC.id)===e.id&&(0,s.jsx)(n.Z,{className:"w-5 h-5 text-green-500 flex-shrink-0"})]},e.id))}),!e1&&(0,s.jsxs)("div",{className:"mt-3 p-3 bg-red-500/10 border border-red-500/20 rounded-xl flex items-center gap-2 text-red-400",children:[(0,s.jsx)(y,{className:"w-5 h-5 flex-shrink-0"}),(0,s.jsxs)("p",{className:"text-sm",children:[(null===(O=ev.cart)||void 0===O?void 0:O.minimumOrder)||"Minimum sipariş",": ₺",e2]})]}),eC&&(0,s.jsxs)("div",{className:"mt-3 p-3 bg-green-500/10 rounded-xl flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-green-400",children:[(0,s.jsx)(x,{className:"w-5 h-5"}),(0,s.jsx)("span",{className:"text-sm",children:(null===(H=ev.cart)||void 0===H?void 0:H.deliveryFee)||"Teslimat \xdccreti"})]}),(0,s.jsxs)("span",{className:"font-bold text-green-400",children:["₺",ez]})]})]}),(0,s.jsxs)("div",{className:"bg-[#1a1a1a] rounded-2xl overflow-hidden",children:[(0,s.jsx)("div",{className:"p-4 border-b border-white/5",children:(0,s.jsx)("h3",{className:"font-semibold",children:(null===(L=ev.cart)||void 0===L?void 0:L.yourOrder)||"Siparişiniz"})}),ed.map(e=>(0,s.jsx)("div",{className:"p-4 border-b border-white/5 last:border-0",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h4",{className:"font-medium",children:e.name}),e.options&&e.options.length>0&&(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-0.5",children:e.options.map(e=>e.choice).join(", ")}),(0,s.jsxs)("p",{className:"text-orange-500 text-sm mt-1",children:["₺",e.price]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>eu(e.id,e.quantity-1),className:"w-8 h-8 rounded-lg bg-[#242424] flex items-center justify-center",children:(0,s.jsx)(b.Z,{className:"w-4 h-4"})}),(0,s.jsx)("span",{className:"w-8 text-center font-medium",children:e.quantity}),(0,s.jsx)("button",{onClick:()=>eu(e.id,e.quantity+1),className:"w-8 h-8 rounded-lg bg-orange-500 flex items-center justify-center",children:(0,s.jsx)(p.Z,{className:"w-4 h-4"})})]})]})},e.id))]}),(0,s.jsxs)("div",{className:"bg-[#1a1a1a] rounded-2xl p-4",children:[(0,s.jsx)("h3",{className:"font-semibold mb-3",children:(null===(V=ev.cart)||void 0===V?void 0:V.orderNote)||"Sipariş Notu"}),(0,s.jsx)("textarea",{value:eT,onChange:e=>eq(e.target.value),placeholder:(null===(K=ev.cart)||void 0===K?void 0:K.notePlaceholder)||"\xd6zel isteklerinizi yazın...",rows:2,className:"w-full bg-[#242424] border border-white/10 rounded-xl py-3 px-4 text-white resize-none"})]}),(0,s.jsxs)("div",{className:"bg-[#1a1a1a] rounded-2xl p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsx)("h3",{className:"font-semibold",children:(null===(R=ev.cart)||void 0===R?void 0:R.tip)||"Bahşiş"}),eG>0&&(0,s.jsxs)("span",{className:"text-green-500 text-sm",children:["+₺",eG]})]}),(0,s.jsx)("div",{className:"flex gap-2 mb-3",children:[0,10,15,20].map(e=>{var t;return(0,s.jsx)("button",{onClick:()=>{eK(e),eF("")},className:"flex-1 py-2 rounded-lg text-sm font-medium transition-colors ".concat(eV!==e||eR?"bg-[#242424] text-gray-400":"bg-green-500 text-white"),children:0===e?(null===(t=ev.cart)||void 0===t?void 0:t.noTip)||"Yok":"%".concat(e)},e)})}),(0,s.jsx)("input",{type:"number",value:eR,onChange:e=>{eF(e.target.value),eK(0)},placeholder:(null===(F=ev.cart)||void 0===F?void 0:F.customTipAmount)||"\xd6zel tutar (₺)",className:"w-full bg-[#242424] border border-white/10 rounded-xl py-2 px-4 text-white text-sm"})]}),(0,s.jsxs)("div",{className:"bg-[#1a1a1a] rounded-2xl p-4",children:[(0,s.jsx)("h3",{className:"font-semibold mb-3",children:(null===(U=ev.cart)||void 0===U?void 0:U.paymentMethod)||"\xd6deme Y\xf6ntemi"}),(0,s.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[{id:"cash",icon:j.Z,label:(null===(Y=ev.cart)||void 0===Y?void 0:Y.cash)||"Nakit"},{id:"card",icon:g.Z,label:(null===(J=ev.cart)||void 0===J?void 0:J.card)||"Kart"},{id:"tit_pay",icon:j.Z,label:"TiT Pay"}].map(e=>(0,s.jsxs)("button",{onClick:()=>eL(e.id),className:"p-3 rounded-xl flex flex-col items-center gap-2 transition-colors ".concat(eH===e.id?"bg-orange-500 text-white":"bg-[#242424] text-gray-400"),children:[(0,s.jsx)(e.icon,{className:"w-5 h-5"}),(0,s.jsx)("span",{className:"text-xs",children:e.label})]},e.id))})]}),(0,s.jsxs)("button",{onClick:()=>eY(!0),className:"w-full bg-[#1a1a1a] rounded-2xl p-4 flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-purple-500/20 rounded-xl flex items-center justify-center",children:(0,s.jsx)(N.Z,{className:"w-5 h-5 text-purple-400"})}),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("h3",{className:"font-semibold",children:(null===(Q=ev.cart)||void 0===Q?void 0:Q.splitBill)||"Hesabı B\xf6l"}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:eJ>1?"".concat(eJ," kişi • ₺").concat(e$," / kişi"):(null===(G=ev.cart)||void 0===G?void 0:G.dontSplit)||"B\xf6l\xfcnmemiş"})]})]}),(0,s.jsx)(k.Z,{className:"w-5 h-5 text-gray-400"})]})]}),(0,s.jsxs)("div",{className:"fixed bottom-20 left-0 right-0 bg-[#1a1a1a] border-t border-white/10 p-4 space-y-3",children:[(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Ara Toplam"}),(0,s.jsxs)("span",{children:["₺",eh]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-gray-400",children:"KDV (%8)"}),(0,s.jsxs)("span",{children:["₺",eW]})]}),eG>0&&(0,s.jsxs)("div",{className:"flex justify-between text-green-400",children:[(0,s.jsx)("span",{children:"Bahşiş"}),(0,s.jsxs)("span",{children:["+₺",eG]})]}),"delivery"===ey&&ez>0&&(0,s.jsxs)("div",{className:"flex justify-between text-green-400",children:[(0,s.jsx)("span",{children:"Teslimat"}),(0,s.jsxs)("span",{children:["+₺",ez]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-lg font-bold pt-2 border-t border-white/10",children:[(0,s.jsx)("span",{children:"Toplam"}),(0,s.jsxs)("span",{className:"text-orange-500",children:["₺",eX]})]}),eJ>1&&(0,s.jsxs)("div",{className:"flex justify-between text-purple-400 text-sm",children:[(0,s.jsx)("span",{children:"Kişi başı"}),(0,s.jsxs)("span",{children:["₺",e$]})]})]}),(0,s.jsx)("button",{onClick:e3,disabled:eE||!e1||0===ed.length,className:"w-full py-4 bg-orange-500 hover:bg-orange-600 disabled:bg-gray-700 rounded-xl font-bold flex items-center justify-center gap-2",children:eE?(0,s.jsx)(w.Z,{className:"w-5 h-5 animate-spin"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.Z,{className:"w-5 h-5"}),(null===(W=ev.cart)||void 0===W?void 0:W.placeOrder)||"Sipariş Ver"," • ₺",eX]})})]}),eU&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 bg-black/80 flex items-end",children:(0,s.jsxs)("div",{className:"w-full bg-[#1a1a1a] rounded-t-3xl p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h2",{className:"text-lg font-bold",children:(null===(X=ev.cart)||void 0===X?void 0:X.splitBill)||"Hesabı B\xf6l"}),(0,s.jsx)("button",{onClick:()=>eY(!1),children:(0,s.jsx)(Z.Z,{className:"w-6 h-6"})})]}),(0,s.jsx)("p",{className:"text-center text-gray-400 mb-4",children:(null===($=ev.cart)||void 0===$?void 0:$.howManyPeople)||"Ka\xe7 kişisiniz?"}),(0,s.jsxs)("div",{className:"flex items-center justify-center gap-6 mb-6",children:[(0,s.jsx)("button",{onClick:()=>eQ(Math.max(1,eJ-1)),className:"w-14 h-14 bg-[#242424] rounded-full flex items-center justify-center",children:(0,s.jsx)(b.Z,{className:"w-6 h-6"})}),(0,s.jsx)("span",{className:"text-5xl font-bold w-20 text-center",children:eJ}),(0,s.jsx)("button",{onClick:()=>eQ(Math.min(20,eJ+1)),className:"w-14 h-14 bg-orange-500 rounded-full flex items-center justify-center",children:(0,s.jsx)(p.Z,{className:"w-6 h-6"})})]}),eJ>1&&(0,s.jsxs)("div",{className:"bg-purple-500/20 rounded-xl p-4 text-center mb-6",children:[(0,s.jsx)("p",{className:"text-purple-400 text-sm",children:"Kişi Başı"}),(0,s.jsxs)("p",{className:"text-3xl font-bold text-purple-400",children:["₺",e$]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsx)("button",{onClick:()=>{eQ(1),eY(!1)},className:"py-3 bg-[#242424] rounded-xl font-medium",children:"B\xf6lme"}),(0,s.jsx)("button",{onClick:()=>eY(!1),className:"py-3 bg-orange-500 rounded-xl font-medium",children:"Tamam"})]})]})})]})}},4759:function(e,t,a){"use strict";a.d(t,{CartProvider:function(){return r},j:function(){return n}});var s=a(7437),l=a(2265);let i=(0,l.createContext)(null);function n(){let e=(0,l.useContext)(i);if(!e)throw Error("useCart must be used within CartProvider");return e}function r(e){let{children:t}=e,[a,n]=(0,l.useState)([]),[r,d]=(0,l.useState)(null),[c,o]=(0,l.useState)(null),[u,x]=(0,l.useState)(!1);(0,l.useEffect)(()=>{try{let e=localStorage.getItem("order_cart");if(e){let t=JSON.parse(e);n(t.items||[]),d(t.venueId||null),o(t.venueName||null)}}catch(e){console.error("Cart load error:",e)}x(!0)},[]),(0,l.useEffect)(()=>{u&&localStorage.setItem("order_cart",JSON.stringify({items:a,venueId:r,venueName:c}))},[a,r,c,u]);let m=e=>{n(t=>{let a=t.filter(t=>t.id!==e);return 0===a.length&&(d(null),o(null)),a})},h=a.reduce((e,t)=>e+t.quantity,0),p=a.reduce((e,t)=>e+t.price*t.quantity,0);return(0,s.jsx)(i.Provider,{value:{items:a,venueId:r,venueName:c,addItem:(e,t,a)=>{if(r&&r!==t){n([{...e,quantity:e.quantity||1}]),d(t),o(a);return}d(t),o(a),n(t=>t.find(t=>t.id===e.id)?t.map(t=>t.id===e.id?{...t,quantity:t.quantity+(e.quantity||1)}:t):[...t,{...e,quantity:e.quantity||1}])},updateQuantity:(e,t)=>{if(t<=0){m(e);return}n(a=>a.map(a=>a.id===e?{...a,quantity:t}:a))},removeItem:m,clearCart:()=>{n([]),d(null),o(null),localStorage.removeItem("order_cart")},cartCount:h,totalPrice:p},children:t})}},2660:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9763).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},401:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9763).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},407:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9763).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},1723:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},8226:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9763).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},9637:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9763).Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},5863:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3774:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9763).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},9554:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9763).Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},3041:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9763).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},9397:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9763).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},2449:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9763).Z)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]])},2369:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9763).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},5805:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9763).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},1804:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9763).Z)("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]])},2489:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9763).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},function(e){e.O(0,[658,310,971,117,744],function(){return e(e.s=7815)}),_N_E=e.O()}]);