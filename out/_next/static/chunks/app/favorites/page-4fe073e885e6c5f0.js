(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[57],{4569:function(e,t,s){Promise.resolve().then(s.bind(s,6629))},6629:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var a=s(7437),n=s(2265),r=s(9376),i=s(8997),c=s(2660),l=s(4766),o=s(3774),d=s(6595),u=s(2141),x=s(4320),m=s(6348);function h(){let e=(0,r.useRouter)(),{user:t,loading:s}=(0,x.a)(),{t:h}=(0,m.QT)(),[f,p]=(0,n.useState)([]),[j,b]=(0,n.useState)(!0);(0,n.useEffect)(()=>{s||(t?v():b(!1))},[t,s]);let v=async()=>{if(!t){b(!1);return}try{let{data:e,error:s}=await u.O.from("favorites_with_venues").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});s&&console.error("Favorites error:",s),e&&p(e)}catch(e){console.error("Error:",e)}b(!1)},N=async e=>{await u.O.from("favorites").delete().eq("id",e),p(t=>t.filter(t=>t.id!==e))};return s||j?(0,a.jsx)("div",{className:"min-h-screen bg-[#0a0a0a] text-white flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-8 h-8 border-2 border-orange-500 border-t-transparent rounded-full animate-spin"})}):t?(0,a.jsxs)("div",{className:"min-h-screen bg-[#0a0a0a] text-white pb-24",children:[(0,a.jsx)("header",{className:"sticky top-0 z-40 bg-[#0a0a0a] border-b border-white/5 px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("button",{onClick:()=>e.back(),className:"w-10 h-10 rounded-full bg-[#1a1a1a] flex items-center justify-center",children:(0,a.jsx)(c.Z,{className:"w-5 h-5"})}),(0,a.jsx)("h1",{className:"text-xl font-bold",children:h.favorites.title})]}),(0,a.jsx)("button",{className:"w-10 h-10 rounded-full bg-[#1a1a1a] flex items-center justify-center",children:(0,a.jsx)(l.Z,{className:"w-5 h-5 text-gray-400"})})]})}),(0,a.jsx)("div",{className:"p-4 space-y-3",children:0===f.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(i.Z,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-lg font-semibold mb-2",children:h.favorites.noFavorites}),(0,a.jsx)("p",{className:"text-gray-400 mb-4",children:h.favorites.noFavoritesDesc}),(0,a.jsx)("button",{onClick:()=>e.push("/discover"),className:"px-6 py-3 bg-orange-500 rounded-xl font-medium",children:h.favorites.discoverVenues})]}):f.map(t=>(0,a.jsx)("div",{className:"bg-[#1a1a1a] rounded-xl p-4 border border-white/5",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("button",{onClick:()=>e.push("/venue/".concat(t.venue_slug||t.venue_uuid)),className:"flex-1 text-left",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg",children:t.venue_name}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm text-gray-400",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:t.venue_district})]}),t.venue_cuisine_type&&(0,a.jsx)("span",{className:"text-sm text-orange-500",children:t.venue_cuisine_type}),t.venue_rating&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),(0,a.jsx)("span",{className:"text-sm",children:t.venue_rating})]})]})]}),(0,a.jsx)("button",{onClick:()=>N(t.id),className:"p-2",children:(0,a.jsx)(i.Z,{className:"w-6 h-6 text-red-500 fill-red-500"})})]})},t.id))})]}):(0,a.jsx)("div",{className:"min-h-screen bg-[#0a0a0a] text-white flex items-center justify-center p-4 pb-24",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(i.Z,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-xl font-bold mb-2",children:h.auth.login}),(0,a.jsx)("p",{className:"text-gray-400 mb-4",children:h.favorites.loginToSee||"Favorilerinizi g\xf6rmek i\xe7in giriş yapın"}),(0,a.jsx)("button",{onClick:()=>e.push("/auth"),className:"px-6 py-3 bg-orange-500 rounded-xl font-medium",children:h.auth.login})]})})}},2660:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},4766:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},8997:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},3774:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},6595:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])}},function(e){e.O(0,[658,310,971,117,744],function(){return e(e.s=4569)}),_N_E=e.O()}]);